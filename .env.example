# Tippy Environment Variables Template
# Ledger Reference: Tippy Decision Ledger v1.0 (Final), Â§15.3, Â§25
# Full-Stack Audit: P2.1
#
# DO NOT commit real values. This is a template only.
# Copy this file to .env.local and fill in actual values from Doppler or secure storage.

# --- Core Environment ---
ENVIRONMENT=development  # environment name: development|staging|production
NODE_ENV=development    # Node.js environment
LOG_LEVEL=info          # log level: debug|info|warn|error
PORT=3000               # Server port (default: 3000)

# --- Database / Supabase ---
# Supabase connection (for Supabase JS client)
SUPABASE_URL=           # Supabase project URL
SUPABASE_ANON_KEY=      # Supabase anonymous/public key
SUPABASE_SERVICE_ROLE_KEY=  # Supabase service role key (for admin operations)

# Direct Postgres connection (for migrations)
SUPABASE_DB_URL=         # Full Postgres connection string: postgresql://user:password@host:port/database
DB_URL=                  # Alternative name for database URL (fallback)

# --- Yoco Payments ---
YOCO_PUBLIC_KEY=         # Yoco public API key (for frontend)
YOCO_SECRET_KEY=         # Yoco secret API key (for backend)
YOCO_WEBHOOK_SECRET=     # Yoco webhook signature secret
YOCO_API_URL=            # Yoco API base URL (optional, defaults to production if omitted)

# --- Fee Configuration ---
YOCO_FEE_PERCENT=0.00    # Yoco processor fee percentage (default: 0.00)
PLATFORM_FEE_PERCENT=10.00  # Platform fee percentage (default: 10.00)
VAT_RATE_PERCENT=15.00  # VAT rate percentage (default: 15.00)

# --- SMS Provider (SendGrid or Twilio) ---
# Option 1: SendGrid
SENDGRID_API_KEY=        # SendGrid API key for SMS sending

# Option 2: Twilio (use if not using SendGrid)
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=

# SMS Configuration (per Ledger Â§24.3)
SEND_GUARD_WELCOME_SMS=true           # Whether to send welcome SMS to guards
WELCOME_SMS_TEMPLATE_ID=tippy_guard_welcome_v1  # SMS template ID
WELCOME_SMS_LANGUAGE_AUTO=true        # Auto-detect language for SMS

# --- CashSend Integration ---
CASH_SEND_API_KEY=       # CashSend API key for payout processing
CASH_SEND_API_SECRET=    # CashSend API secret

# --- Monitoring / Error Tracking ---
SENTRY_DSN=              # Sentry DSN for error tracking (optional)

# --- Domain / URLs ---
TIPPY_DOMAIN=            # Tippy domain (e.g., tippypay.co.za)
TIPPY_API_URL=           # Tippy API base URL

# --- Doppler (for CI/CD) ---
# These are set automatically in CI/CD via GitHub Actions secrets
# DOPPLER_TOKEN_CI=       # Doppler CI token (set in GitHub Actions secrets)

# --- GitHub (for CI/CD) ---
# GH_TOKEN=               # GitHub token for CI/CD (set in GitHub Actions secrets)

# --- Xneelo (if applicable) ---
# XNEELO_API_KEY=         # Xneelo API key (if using Xneelo services)
